"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PackageManager=void 0;const os=require("os"),path=require("path");class PackageManager{constructor(props){this.lockFile=props.lockFile,this.installCommand=props.installCommand,this.runCommand=props.runCommand,this.argsSeparator=props.argsSeparator}static fromLockFile(lockFilePath){switch(path.basename(lockFilePath)){case PackageManager.NPM.lockFile:return PackageManager.NPM;case PackageManager.YARN.lockFile:return PackageManager.YARN;case PackageManager.PNPM.lockFile:return PackageManager.PNPM;default:return PackageManager.NPM}}runBinCommand(bin){const[runCommand,...runArgs]=this.runCommand;return[os.platform()==="win32"?`${runCommand}.cmd`:runCommand,...runArgs,...this.argsSeparator?[this.argsSeparator]:[],bin].join(" ")}}exports.PackageManager=PackageManager,PackageManager.NPM=new PackageManager({lockFile:"package-lock.json",installCommand:["npm","ci"],runCommand:["npx","--no-install"]}),PackageManager.YARN=new PackageManager({lockFile:"yarn.lock",installCommand:["yarn","install","--no-immutable"],runCommand:["yarn","run"]}),PackageManager.PNPM=new PackageManager({lockFile:"pnpm-lock.yaml",installCommand:["pnpm","install"],runCommand:["pnpm","exec"],argsSeparator:"--"});
//# sourceMappingURL=package-manager.js.map
